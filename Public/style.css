/* This file NO LONGER contains layout styles (e.g., body, .gantt-form).
  Those are now handled by Tailwind CSS in index.html.
  
  This file ONLY contains styles that are dynamically
  applied by main.js to the chart, modal, and chat interface.
  It is still required for the application to look correct.
*/
@import url('https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600&display=swap'); /* CHANGED */

/* --- GANTT CHART STYLES --- */
/* These are applied by main.js when building the chart */

/* 6. Gantt Chart Container */
#gantt-chart-container {
  width: 100%;
  border: 1px solid #0D0D0D; /* Darker border (using grid line color) */
  border-radius: 8px;
  background-color: #282828; /* Chart Background */
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  overflow: hidden;
  margin-top: 24px;
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  position: relative; /* Added for vertical SVG border */
}

/* 7. Chart Title */
.gantt-title {
  text-align: center;
  font-size: 40px; /* Increased from 36px for better readability */
  font-weight: 700; /* Increased from 600 for better readability */
  padding: 22px; /* Increased from 20px to match larger text */
  border-bottom: 1px solid #0D0D0D; /* Only bottom border to separate from grid */
  color: #FFFFFF; /* Text Color */
  background-color: #0c2340; /* CHANGED to new color */
  transition: all 0.2s;
  border-radius: 8px 8px 0 0; /* Rounded corners at top */
}

/* Show outline on title hover when in edit mode */
.gantt-title.edit-mode-enabled:hover {
  outline: 2px dashed rgba(80, 175, 123, 0.6);
  outline-offset: 2px;
  background-color: rgba(12, 35, 64, 0.95);
  cursor: text;
}

/* Style for title when actively being edited */
.gantt-title[contenteditable="true"],
.gantt-title.editing {
  outline: 2px solid #50AF7B;
  outline-offset: 2px;
  background-color: rgba(80, 175, 123, 0.15);
  cursor: text;
}

.gantt-title[contenteditable="true"]:focus,
.gantt-title.editing:focus {
  outline: 2px solid #3C8D62;
  background-color: rgba(80, 175, 123, 0.2);
}

/* 8. Main Grid Layout */
.gantt-grid {
  display: grid;
  width: 100%;
  position: relative; /* For "Today" line */
}

/* 9. Grid Header (Weeks) */
.gantt-header {
  font-size: 26px; /* Increased from 24px for better readability */
  font-weight: 600; /* Increased from 500 for better readability */
  padding: 16px 10px; /* Increased padding to match larger text */
  text-align: center;
  background-color: #0c2340; /* CHANGED to new color */
  border-bottom: 1px solid #0D0D0D; /* Grid line color (Correctly not white) */
  border-left: 0.5px solid #0D0D0D; /* Grid line color (CHANGED to black) */
  border-top: 0.5px solid #0D0D0D; /* CHANGED to black */
  color: #FFFFFF; /* Text Color */
}
.gantt-header-label { /* First header cell (empty) */
  border-left: 0; /* Keep left border at 0 */
  border-top: 0.5px solid #0D0D0D; /* OVERRIDE: Keep top border dark, changed to 0.5px */
  /* background-color: #28228; */ /* Removed this override */
}

/* 10. Row Label (Swimlane or Task) */
.gantt-row-label {
  padding: 10px 12px;
  font-size: 13px; /* Base size */
  border-bottom: 1px solid #0D0D0D; /* Grid line color */
  white-space: nowrap; /* Prevent text wrapping - column will auto-expand */
  overflow: visible; /* Allow text to be fully visible */
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

/* Phase 3: Label content wrapper */
.gantt-row-label .label-content {
  flex: 1;
  min-width: 0;
  transition: all 0.2s;
  border-radius: 4px;
  padding: 2px 6px;
  margin: -2px -6px; /* Offset padding to maintain alignment */
}

/* Show outline on label hover when in edit mode (for both tasks and swimlanes) */
.gantt-grid.edit-mode-enabled .gantt-row-label.task:hover .label-content,
.gantt-grid.edit-mode-enabled .gantt-row-label.swimlane:hover .label-content {
  outline: 2px dashed rgba(80, 175, 123, 0.6);
  outline-offset: 2px;
  background-color: rgba(80, 175, 123, 0.1);
}

/* Phase 3: Row action buttons */
.row-actions {
  display: none; /* Hidden by default */
  gap: 6px;
  align-items: center;
}

/* Show row actions on hover only when edit mode is enabled */
.gantt-grid.edit-mode-enabled .gantt-row-label:hover .row-actions {
  display: flex;
}

.row-action-btn {
  width: 32px; /* Increased from 24px for better visibility */
  height: 32px; /* Increased from 24px for better visibility */
  border: 2px solid rgba(255, 255, 255, 0.3); /* Add border for emphasis */
  border-radius: 6px;
  font-size: 22px; /* Increased from 18px */
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  line-height: 1;
  padding: 0;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3); /* Add shadow for depth */
}

.row-action-btn.add-task {
  background-color: #50AF7B;
  color: white;
}

.row-action-btn.add-task:hover {
  background-color: #3C8D62;
  transform: scale(1.15); /* Increased from 1.1 */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
  border-color: rgba(255, 255, 255, 0.5);
}

.row-action-btn.delete-task {
  background-color: #BA3930;
  color: white;
}

.row-action-btn.delete-task:hover {
  background-color: #9A2F28;
  transform: scale(1.15); /* Increased from 1.1 */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
  border-color: rgba(255, 255, 255, 0.5);
}

/* Phase 4: Editable label styles */
.label-content[contenteditable="true"],
.label-content.editing {
  outline: 2px solid #50AF7B;
  outline-offset: 2px;
  background-color: rgba(80, 175, 123, 0.1);
  border-radius: 4px;
  padding: 2px 4px;
  cursor: text;
}

.label-content[contenteditable="true"]:focus,
.label-content.editing:focus {
  outline: 2px solid #3C8D62;
  background-color: rgba(80, 175, 123, 0.15);
}

.gantt-row-label.swimlane {
  font-weight: 700; /* Increased from 600 for better readability */
  color: #FFFFFF; /* Text Color */
  background-color: #0C2340; /* Set swimlane title background */
  font-size: 30px; /* Increased from 28px for better readability */
  padding: 16px 18px; /* Increased padding to match larger text */
}

.gantt-row-label.task {
  padding: 14px 16px; /* Increased base padding for larger text */
  padding-left: 36px; /* Increased indent from 32px */
  font-weight: 500; /* Increased from 400 for better readability */
  color: #FFFFFF; /* Text Color */
  border-bottom: 1px solid #0D0D0D; /* Grid line color */
  background-color: #546579; /* Set task title background - static blue */
  font-size: 26px; /* Increased from 24px for better readability */
}

.gantt-row-label.task:hover {
  background-color: #546579; /* Keep static blue on hover */
  cursor: pointer;
}

/* 11. Bar Area */
.gantt-bar-area {
  position: relative;
  display: grid;
  align-items: center; /* Center bars vertically */
  min-height: 32px; /* Ensure minimum height for rows */
}

.gantt-bar-area.task {
  background-color: #383838; /* Task row background */
}

.gantt-bar-area.task:hover,
.gantt-bar-area.task.row-hover {
  background-color: #546579; /* Hover effect */
  cursor: pointer;
}

.gantt-bar-area.swimlane {
  background-color: #0c2340; /* Swimlane background */
}

/* 11a. Time Cell (individual cells within bar area for grid lines) */
.gantt-time-cell {
  grid-row: 1;
  pointer-events: none; /* Allow clicks to pass through to bar area */
  background: transparent; /* Inherit background from bar area */
  z-index: 1; /* Above bar area background, below bars */
}

/* 12. The Actual Bar */
.gantt-bar {
  position: relative;
  height: 20px;
  margin: 6px 4px; /* Vertical centering, small horizontal gap */
  border-radius: 4px;
  color: white;
  z-index: 2; /* Above time cells (which are z-index 1) */
  overflow: visible; /* Changed to visible for resize handles */
  grid-row: 1; /* Always on the first (and only) row of its container */
}

/* Phase 2: Resize handles using pseudo-elements */
.gantt-bar::before,
.gantt-bar::after {
  content: '⋮⋮'; /* Add vertical dots symbol for better visibility */
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 10px; /* Increased from 6px */
  height: 90%; /* Increased from 80% */
  background: rgba(255, 255, 255, 0.9); /* More opaque */
  cursor: ew-resize;
  opacity: 0;
  transition: all 0.2s;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  color: rgba(0, 0, 0, 0.6);
  font-weight: bold;
  border: 2px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

.gantt-bar::before {
  left: 0;
  border-radius: 4px 0 0 4px;
}

.gantt-bar::after {
  right: 0;
  border-radius: 0 4px 4px 0;
}

/* Only show resize handles in edit mode */
.gantt-grid.edit-mode-enabled .gantt-bar:hover::before,
.gantt-grid.edit-mode-enabled .gantt-bar:hover::after,
.gantt-bar.resizing::before,
.gantt-bar.resizing::after {
  opacity: 1;
}

/* Extra emphasis on hover for resize handles */
.gantt-grid.edit-mode-enabled .gantt-bar:hover::before:hover,
.gantt-grid.edit-mode-enabled .gantt-bar:hover::after:hover {
  background: rgba(80, 175, 123, 0.95);
  color: white;
  transform: translateY(-50%) scale(1.1);
}

/* Bar Colors (HIGH CONTRAST PALETTE) */
.gantt-bar[data-color="priority-red"] { background-color: #EF4444; } /* Bright Red */
.gantt-bar[data-color="medium-red"] { background-color: #FB923C; } /* Orange */
.gantt-bar[data-color="mid-grey"] { background-color: #14B8A6; } /* Teal */
.gantt-bar[data-color="light-grey"] { background-color: #E879F9; } /* Bright Pink-Purple */
.gantt-bar[data-color="white"] { background-color: #FFFFFF; } /* White */
.gantt-bar[data-color="dark-blue"] { background-color: #3B82F6; } /* Bright Blue */

/* Visual feedback for gantt bars in edit mode */
.gantt-grid.edit-mode-enabled .gantt-bar:hover {
  outline: 2px dashed rgba(255, 255, 255, 0.7);
  outline-offset: 2px;
  filter: brightness(1.15);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}


/* 13. Export Button and Edit Mode Toggle Styling */
.export-container {
  display: flex;
  justify-content: center;
  gap: 16px; /* Space between buttons */
  padding: 32px 0 24px 0; /* Increased padding for more prominence */
  font-family: 'Work Sans', sans-serif; /* CHANGED */
}
.export-button {
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  font-size: 20px; /* Increased from 14px */
  font-weight: 700; /* Increased from 600 for more prominence */
  color: #ffffff;
  background-color: #50AF7B; /* Use one of the old dark mode colors (Green) */
  border: none;
  border-radius: 8px; /* Increased from 6px */
  padding: 16px 48px; /* Increased from 10px 20px */
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3); /* Stronger shadow */
  transition: all 0.2s; /* Transition all properties */
}
.export-button:hover {
  background-color: #3C8D62;
  box-shadow: 0 6px 16px rgba(0,0,0,0.4); /* Even stronger shadow on hover */
  transform: translateY(-2px); /* Slight lift on hover */
}
.export-button:disabled {
  background-color: #4a4a4a;
  cursor: not-allowed;
  transform: none; /* No lift when disabled */
}

/* Edit Mode Toggle Button */
.edit-mode-toggle-button {
  font-family: 'Work Sans', sans-serif;
  font-size: 20px;
  font-weight: 700;
  color: #ffffff;
  background-color: #BA3930; /* Red for locked/disabled state */
  border: none;
  border-radius: 8px;
  padding: 16px 48px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  transition: all 0.2s;
}
.edit-mode-toggle-button:hover {
  box-shadow: 0 6px 16px rgba(0,0,0,0.4);
  transform: translateY(-2px);
  filter: brightness(1.1); /* Brighten on hover */
}

/* ------------------------------------------------------------------- */
/* --- "TODAY" VERTICAL LINE --- */
/* ------------------------------------------------------------------- */
.gantt-today-line {
  position: absolute;
  width: 1px; /* Thin red line */
  background-color: #BA3930; /* Use Red color from old palette */
  z-index: 3; /* Above bars (bars are z-index 2) */
  /* 'top', 'bottom', and 'left' are set by JavaScript */
}


/* ------------------------------------------------------------------- */
/* --- ANALYSIS MODAL STYLES (Adjusted for Dark Mode) --- */
/* ------------------------------------------------------------------- */

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7); /* Darker overlay */
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  padding: 24px;
  box-sizing: border-box;
  font-family: 'Work Sans', sans-serif; /* CHANGED */
}

.modal-content {
  background-color: #1A1A1A; /* Dark Modal Background */
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  width: 100%;
  max-width: 700px;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  color: #FFFFFF; /* Default text color */
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  border-bottom: 1px solid #383838; /* Darker separator */
}

.modal-title {
  font-size: 18px;
  font-weight: 600;
  color: #FFFFFF;
  margin: 0;
}

.modal-close {
  font-size: 28px;
  font-weight: 300;
  color: #AAAAAA; /* Light grey close button */
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  line-height: 1;
}
.modal-close:hover {
  color: #FFFFFF;
}

.modal-body {
  padding: 24px;
  overflow-y: auto;
  color: #FFFFFF;
}

.modal-spinner {
  width: 32px;
  height: 32px;
  border: 4px solid #383838;
  border-top-color: #50AF7B; /* Green accent */
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 40px auto;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.modal-error {
  color: #BA3930;
  font-weight: 500;
  text-align: center;
  padding: 20px;
}

.analysis-section {
  margin-bottom: 20px;
}
.analysis-section:last-child {
  margin-bottom: 0;
}

.analysis-section h4 {
  font-size: 14px;
  font-weight: 600;
  color: #FFFFFF;
  margin-top: 0;
  margin-bottom: 8px;
  border-bottom: 1px solid #383838; /* Darker separator */
  padding-bottom: 4px;
}

.analysis-section p {
  font-size: 14px;
  color: #CCCCCC; /* Lighter text for body */
  line-height: 1.6;
  margin: 0;
}

.status-pill {
  display: inline-block;
  padding: 3px 10px;
  font-size: 12px;
  font-weight: 600;
  border-radius: 999px;
  text-transform: capitalize;
}
/* Re-mapped status colors for dark background contrast */
.status-pill.status-completed {
  color: #50AF7B; /* Green text */
  background-color: #1A3025; /* Dark Green background */
}
.status-pill.status-in-progress {
  color: #EE9E20; /* Ochre text */
  background-color: #382A13; /* Dark Ochre background */
}
.status-pill.status-not-started {
  color: #BA3930; /* Red text */
  background-color: #2F120F; /* Dark Red background */
}
.status-pill.status-n\/a {
  color: #AAAAAA;
  background-color: #383838;
}


.analysis-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.analysis-list li {
  padding: 8px 0;
  border-bottom: 1px solid #383838; /* Darker separator */
}
.analysis-list li:last-child {
  border-bottom: 0;
}
.analysis-list li p {
  margin: 0;
  font-size: 14px;
  color: #CCCCCC;
}
.analysis-list li .source {
  font-size: 12px;
  color: #888888;
  font-style: italic;
}

.analysis-list li .source a {
  color: #2E7BB1; /* Dark Blue link */
  text-decoration: underline;
  cursor: pointer;
  font-style: italic; /* Maintain italic style */
}
.analysis-list li .source a:hover {
  color: #66A3D9; /* Lighter blue on hover */
}


/* ------------------------------------------------------------------- */
/* --- CHAT INTERFACE STYLES (Adjusted for Dark Mode) --- */
/* ------------------------------------------------------------------- */

.chat-container {
  margin-top: 24px;
  border-top: 1px solid #383838;
  padding-top: 20px;
}

.chat-title {
  font-size: 14px;
  font-weight: 600;
  color: #FFFFFF;
  margin-top: 0;
  margin-bottom: 12px;
}

.chat-history {
  height: 150px;
  max-height: 150px;
  overflow-y: auto;
  border: 1px solid #383838;
  border-radius: 6px;
  padding: 12px;
  background-color: #282828; /* Match chart background */
  margin-bottom: 12px;
}

.chat-message {
  font-size: 14px;
  line-height: 1.6;
  padding: 8px 12px;
  border-radius: 8px;
  margin-bottom: 8px;
  max-width: 85%;
}
.chat-message:last-child {
  margin-bottom: 0;
}

.chat-message-user {
  background-color: #2E7BB1; /* Dark Blue */
  color: #FFFFFF;
  margin-left: auto;
  text-align: right;
}

.chat-message-llm {
  background-color: #383838; /* Dark Grey */
  color: #FFFFFF;
  margin-right: auto;
  text-align: left;
}

.chat-spinner {
  width: 16px;
  height: 16px;
  border: 2px solid #555555;
  border-top-color: #AAAAAA;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  display: inline-block; 
}

.chat-form {
  display: flex;
  gap: 8px;
}

.chat-input {
  flex-grow: 1;
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  font-size: 14px;
  border: 1px solid #383838;
  border-radius: 6px;
  padding: 8px 12px;
  color: #FFFFFF;
  background-color: #282828;
}

.chat-send-btn {
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  font-size: 14px;
  font-weight: 600;
  color: #ffffff;
  background-color: #2E7BB1; /* Dark Blue send button */
  border: none;
  border-radius: 6px;
  padding: 8px 16px;
  cursor: pointer;
  transition: background-color 0.2s;
}
.chat-send-btn:hover {
  background-color: #1F6AA1;
}

/* ------------------------------------------------------------------- */
/* --- GANTT LEGEND STYLES --- */
/* ------------------------------------------------------------------- */
.gantt-legend {
  padding: 32px 36px; /* Increased padding for more prominence */
  border-top: 2px solid #0D0D0D; /* Thicker border for separation */
  background-color: #0C2340; /* Set background to match swimlanes */
  color: #FFFFFF;
}

.legend-line {
  display: flex;
  align-items: center;
  gap: 20px; /* Space between "Legend:" and first item */
  flex-wrap: wrap; /* Allow wrapping if needed */
}

.legend-title {
  font-size: 44px; /* Increased from 40px for better visibility */
  font-weight: 700; /* Increased from 600 for more prominence */
  margin: 0;
  color: #FFFFFF;
  flex-shrink: 0; /* Prevent title from shrinking */
}

.legend-list {
  display: flex;
  flex-wrap: wrap;
  gap: 40px; /* Increased from 30px for better spacing */
  align-items: center;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 18px; /* Increased from 15px for more breathing room */
}

.legend-color-box {
  width: 36px; /* Increased from 28px for better visibility */
  height: 36px; /* Increased from 28px for better visibility */
  border-radius: 4px; /* Slightly larger radius to match size */
  border: 2px solid rgba(255, 255, 255, 0.3); /* Thicker, more visible border */
  flex-shrink: 0; /* Prevent box from shrinking */
}

/* Use data-color attributes for legend (HIGH CONTRAST PALETTE) */
.legend-color-box[data-color="priority-red"] { background-color: #EF4444; } /* Bright Red */
.legend-color-box[data-color="medium-red"] { background-color: #FB923C; } /* Orange */
.legend-color-box[data-color="mid-grey"] { background-color: #14B8A6; } /* Teal */
.legend-color-box[data-color="light-grey"] { background-color: #E879F9; } /* Bright Pink-Purple */
.legend-color-box[data-color="white"] { background-color: #FFFFFF; } /* White */
.legend-color-box[data-color="dark-blue"] { background-color: #3B82F6; } /* Bright Blue */


.legend-label-wrapper {
  transition: all 0.2s;
}

.legend-label {
  font-size: 32px; /* Increased from 28px for better readability */
  font-weight: 600; /* Added weight for better visibility */
  color: #FFFFFF; /* Changed from #CCCCCC for maximum contrast */
  line-height: 1.2; /* Better line spacing */
  transition: all 0.2s;
  border-radius: 4px;
  padding: 4px 8px;
  margin: -4px -8px; /* Offset padding to maintain alignment */
  display: inline-block;
}

/* Show outline on legend label hover when in edit mode */
.gantt-legend.edit-mode-enabled .legend-label:hover {
  outline: 2px dashed rgba(80, 175, 123, 0.6);
  outline-offset: 2px;
  background-color: rgba(80, 175, 123, 0.1);
  cursor: text;
}

/* Style for legend label when actively being edited */
.legend-label[contenteditable="true"],
.legend-label.editing {
  outline: 2px solid #50AF7B;
  outline-offset: 2px;
  background-color: rgba(80, 175, 123, 0.1);
  cursor: text;
}

.legend-label[contenteditable="true"]:focus,
.legend-label.editing:focus {
  outline: 2px solid #3C8D62;
  background-color: rgba(80, 175, 123, 0.15);
}

/* ------------------------------------------------------------------- */
/* --- SVG FOOTER (Applied by chart-renderer.js) --- */
/* ------------------------------------------------------------------- */
.gantt-footer-svg {
  /* This class is just a container.
     Styles are applied directly via JS.
  */
  width: 100%;
}

/* ------------------------------------------------------------------- */
/* --- PHASE 5: DRAG-TO-EDIT STYLES --- */
/* ------------------------------------------------------------------- */

/* Draggable bars: Add visual feedback */
.gantt-bar[draggable="true"] {
  cursor: move !important;
  transition: opacity 0.2s ease, transform 0.2s ease;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Bar being dragged */
.gantt-bar.dragging {
  opacity: 0.5;
  transform: scale(1.02);
  z-index: 1000;
}

/* Time cells during drag */
.gantt-time-cell.drag-over {
  background-color: rgba(186, 57, 48, 0.1) !important;
  transition: background-color 0.15s ease;
}

/* Drag indicator (floating notification) */
.drag-indicator {
  animation: fadeInDown 0.3s ease;
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Hover effect for draggable bars */
.gantt-bar[draggable="true"]:hover {
  filter: brightness(1.1);
  transform: scale(1.01);
}

/* Prevent text selection during drag */
body.dragging {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Phase 1: Visual feedback for drop zones */
.gantt-bar-area.valid-drop-zone {
  background-color: rgba(80, 175, 123, 0.15) !important; /* Green tint for valid drop */
  outline: 2px dashed rgba(80, 175, 123, 0.5);
  outline-offset: -2px;
  transition: background-color 0.15s ease, outline 0.15s ease;
}

.gantt-bar-area.invalid-drop-zone {
  background-color: rgba(186, 57, 48, 0.15) !important; /* Red tint for invalid drop */
  outline: 2px dashed rgba(186, 57, 48, 0.5);
  outline-offset: -2px;
  transition: background-color 0.15s ease, outline 0.15s ease;
}

/* ------------------------------------------------------------------- */
/* --- PHASE 5: CONTEXT MENU STYLES --- */
/* ------------------------------------------------------------------- */

.context-menu {
  position: absolute;
  background-color: #1A1A1A;
  border: 1px solid #383838;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
  min-width: 200px;
  z-index: 10000;
  display: none;
  overflow: hidden;
}

.context-menu-title {
  padding: 12px 16px;
  font-size: 14px;
  font-weight: 600;
  color: #FFFFFF;
  background-color: #0c2340;
  border-bottom: 1px solid #383838;
}

.color-option {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 16px;
  cursor: pointer;
  transition: background-color 0.2s;
  color: #FFFFFF;
}

.color-option:hover {
  background-color: #546579;
}

.color-preview {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  flex-shrink: 0;
}

.color-label {
  font-size: 14px;
  color: #CCCCCC;
}

.color-option:hover .color-label {
  color: #FFFFFF;
}